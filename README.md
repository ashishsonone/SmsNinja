# SmsNinja
Securely share you OTP SMS for shared accounts/subscriptions

## Flow
- It reads incoming SMS, selectively pick SMS (which match certain regex pattern - sender + body), then encrypt it using local key (`secretKey`) and publish it at URL (identified by `locationKey` e.g R4xZPuqC5). Together this configuration is called as `ForwardingRule`. See screenshot 1
- you share the `comboKey` = (`locationKey:secretKey`) with other party who you want to be able to access these messages
- They use the app, enter the combo key, and are able to decode the SMS published. We only keep the latest published SMS at a particular `locationKey` (overwritten). See screenshot 2.


## Screenshots
<p float="left">
  <img src="https://user-images.githubusercontent.com/1778327/168960610-a015f4c5-f6f9-41cd-94aa-e256a9e03de6.png" height="600" />
  <img src="https://user-images.githubusercontent.com/1778327/168960623-7ee4b545-227b-4a10-80c8-6e29c80da927.png" height="600" /> 
</p>


## Extra Notes:
- `secretKey` is a randomly generated 128 bit AES key (encoded using base64) e.g JbFVI1QnhPEGEfdg5oGm4A==
- `locationKey` is a short id (7-14 charcters) generated by the server.
- Only the owner device can publish content to `locationKey`, as it is tied to the owner's random `clientId` (UUID generated locally during first launch of app)
- `secreteKey` is never sent to the server. It is stored locally on device. Only encrypted content is sent and stored at the `locationKey` url. And you're supposed to share the secret to your friend/family securely.
- Anybody can access the URL (if they know the `locationKey`), but they'll look at gibberish encrypted content. They can only decrypt if they have the `secretKey` with them. Example content
```
DcuDIGOvfxpNt+GIaCUy2Q==
:KgNy0zy3G9n+S3GgVI6xKrfavO9lRZSMARBIEZrVu3RLe8x1/0M0ix3LzEyKXrbMrb5XNFOeP9B8
SzzGvUsEhSmTm/GXOwHsr91CEeX97fEuqCxUzSplFlBWXoY8/sD/nUuGtyIVGxqStMQayTBTVg==
```

## FAQs

### 1. Why not forward directly to another number via SMS. Why does it need to upload anything to the servers (seems suspicious) ?
- Only the default SMS app has permission to send SMS in the background (without user interaction). But then this app then has to be very feature rich to be able to show all threads, send SMS, MMS, etc and replace your SMS app (OEM provided). Will increase the scope even further and in tangential direction.
- Also, this approach makes it possible to add the capability where receiver doesn't need to install the app, we can decode stuff in web page by putting in the comboKey.
- Rest assured, that `secretKey` is never uploaded to server. So, even though server has all the encrypted data, it will not be able to read it.
